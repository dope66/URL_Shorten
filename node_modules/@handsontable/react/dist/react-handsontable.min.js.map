{"version":3,"file":"react-handsontable.min.js","sources":["../src/helpers.tsx","../src/settingsMapper.ts","../src/hotColumn.tsx","../src/renderersPortalManager.tsx","../../../node_modules/react-is/cjs/react-is.production.min.js","../../../node_modules/react-is/index.js","../../../node_modules/object-assign/index.js","../../../node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/prop-types/lib/has.js","../../../node_modules/prop-types/index.js","../../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../src/hotTableClass.tsx","../src/hotTable.tsx","../src/baseEditorComponent.tsx"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  EditorScopeIdentifier,\n  HotEditorCache,\n  HotEditorElement\n} from './types';\n\nlet bulkComponentContainer = null;\n\n/**\n * Warning message for the `autoRowSize`/`autoColumnSize` compatibility check.\n */\nexport const AUTOSIZE_WARNING = 'Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with ' +\n  ' the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.';\n\n/**\n * Message for the warning thrown if the Handsontable instance has been destroyed.\n */\nexport const HOT_DESTROYED_WARNING = 'The Handsontable instance bound to this component was destroyed and cannot be' +\n  ' used properly.';\n\n/**\n * String identifier for the global-scoped editor components.\n */\nexport const GLOBAL_EDITOR_SCOPE = 'global';\n\n/**\n * Default classname given to the wrapper container.\n */\nexport const DEFAULT_CLASSNAME = 'hot-wrapper-editor-container';\n\n/**\n * Logs warn to the console if the `console` object is exposed.\n *\n * @param {...*} args Values which will be logged.\n */\nexport function warn(...args) {\n  if (typeof console !== 'undefined') {\n    console.warn(...args);\n  }\n}\n\n/**\n * Filter out and return elements of the provided `type` from the `HotColumn` component's children.\n *\n * @param {React.ReactNode} children HotTable children array.\n * @param {String} type Either `'hot-renderer'` or `'hot-editor'`.\n * @returns {Object|null} A child (React node) or `null`, if no child of that type was found.\n */\nexport function getChildElementByType(children: React.ReactNode, type: string): React.ReactElement | null {\n  const childrenArray: React.ReactNode[] = React.Children.toArray(children);\n  const childrenCount: number = React.Children.count(children);\n  let wantedChild: React.ReactNode | null = null;\n\n  if (childrenCount !== 0) {\n    if (childrenCount === 1 && (childrenArray[0] as React.ReactElement).props[type]) {\n      wantedChild = childrenArray[0];\n\n    } else {\n      wantedChild = childrenArray.find((child) => {\n        return (child as React.ReactElement).props[type] !== void 0;\n      });\n    }\n  }\n\n  return (wantedChild as React.ReactElement) || null;\n}\n\n/**\n * Get the reference to the original editor class.\n *\n * @param {React.ReactElement} editorElement React element of the editor class.\n * @returns {Function} Original class of the editor component.\n */\nexport function getOriginalEditorClass(editorElement: HotEditorElement) {\n  if (!editorElement) {\n    return null;\n  }\n\n  return editorElement.type.WrappedComponent ? editorElement.type.WrappedComponent : editorElement.type;\n}\n\n/**\n * Create an editor portal.\n *\n * @param {Document} doc Document to be used.\n * @param {React.ReactElement} editorElement Editor's element.\n * @returns {React.ReactPortal} The portal for the editor.\n */\nexport function createEditorPortal(doc: Document, editorElement: HotEditorElement): React.ReactPortal | null {\n  if (typeof doc === 'undefined' || editorElement === null) {\n    return null;\n  }\n\n  const containerProps = getContainerAttributesProps(editorElement.props, false);\n\n  containerProps.className = `${DEFAULT_CLASSNAME} ${containerProps.className}`;\n\n  return ReactDOM.createPortal(\n    <div {...containerProps}>\n      {editorElement}\n    </div>\n    , doc.body);\n}\n\n/**\n * Get an editor element extended with an instance-emitting method.\n *\n * @param {React.ReactNode} children Component children.\n * @param {Map} editorCache Component's editor cache.\n * @param {EditorScopeIdentifier} [editorColumnScope] The editor scope (column index or a 'global' string). Defaults to\n * 'global'.\n * @returns {React.ReactElement} An editor element containing the additional methods.\n */\nexport function getExtendedEditorElement(children: React.ReactNode, editorCache: HotEditorCache, editorColumnScope: EditorScopeIdentifier = GLOBAL_EDITOR_SCOPE): React.ReactElement | null {\n  const editorElement = getChildElementByType(children, 'hot-editor');\n  const editorClass = getOriginalEditorClass(editorElement);\n\n  if (!editorElement) {\n    return null;\n  }\n\n  return React.cloneElement(editorElement, {\n    emitEditorInstance: (editorInstance, editorColumnScope) => {\n      if (!editorCache.get(editorClass)) {\n        editorCache.set(editorClass, new Map());\n      }\n\n      const cacheEntry = editorCache.get(editorClass);\n\n      cacheEntry.set(editorColumnScope ?? GLOBAL_EDITOR_SCOPE, editorInstance);\n    },\n    editorColumnScope,\n    isEditor: true\n  } as object);\n}\n\n/**\n * Create a react component and render it to an external DOM done.\n *\n * @param {React.ReactElement} rElement React element to be used as a base for the component.\n * @param {Object} props Props to be passed to the cloned element.\n * @param {Document} [ownerDocument] The owner document to set the portal up into.\n * @returns {{portal: React.ReactPortal, portalContainer: HTMLElement}} An object containing the portal and its container.\n */\nexport function createPortal(rElement: React.ReactElement, props, ownerDocument: Document = document): {\n  portal: React.ReactPortal,\n  portalContainer: HTMLElement\n} {\n  if (!ownerDocument) {\n    ownerDocument = document;\n  }\n\n  if (!bulkComponentContainer) {\n    bulkComponentContainer = ownerDocument.createDocumentFragment();\n  }\n\n  const portalContainer = ownerDocument.createElement('DIV');\n  bulkComponentContainer.appendChild(portalContainer);\n\n  const extendedRendererElement = React.cloneElement(rElement, {\n    key: `${props.row}-${props.col}`,\n    ...props\n  });\n\n  return {\n    portal: ReactDOM.createPortal(extendedRendererElement, portalContainer, `${props.row}-${props.col}-${Math.random()}`),\n    portalContainer\n  };\n}\n\n/**\n * Get an object containing the `id`, `className` and `style` keys, representing the corresponding props passed to the\n * component.\n *\n * @param {Object} props Object containing the react element props.\n * @param {Boolean} randomizeId If set to `true`, the function will randomize the `id` property when no `id` was present in the `prop` object.\n * @returns An object containing the `id`, `className` and `style` keys, representing the corresponding props passed to the\n * component.\n */\nexport function getContainerAttributesProps(props, randomizeId: boolean = true): {id: string, className: string, style: object} {\n  return {\n    id: props.id || (randomizeId ? 'hot-' + Math.random().toString(36).substring(5) : undefined),\n    className: props.className || '',\n    style: props.style || {},\n  };\n}\n\n/**\n * Checks if the environment that the code runs in is a browser.\n *\n * @returns {boolean}\n */\nexport function isCSR(): boolean {\n  return typeof window !== 'undefined';\n}\n","import Handsontable from 'handsontable/base';\nimport { HotTableProps } from './types';\n\nexport class SettingsMapper {\n  /**\n   * Parse component settings into Handosntable-compatible settings.\n   *\n   * @param {Object} properties Object containing properties from the HotTable object.\n   * @returns {Object} Handsontable-compatible settings object.\n   */\n  static getSettings(properties: HotTableProps): Handsontable.GridSettings {\n    let newSettings: Handsontable.GridSettings = {};\n\n    if (properties.settings) {\n      let settings = properties.settings;\n      for (const key in settings) {\n        if (settings.hasOwnProperty(key)) {\n          newSettings[key] = settings[key];\n        }\n      }\n    }\n\n    for (const key in properties) {\n      if (key !== 'settings' && key !== 'children' && properties.hasOwnProperty(key)) {\n        newSettings[key] = properties[key];\n      }\n    }\n\n    return newSettings;\n  }\n}\n","import React from 'react';\nimport { HotTableProps, HotColumnProps } from './types';\nimport {\n  createEditorPortal,\n  getExtendedEditorElement,\n} from './helpers';\nimport { SettingsMapper } from './settingsMapper';\nimport Handsontable from 'handsontable/base';\n\nclass HotColumn extends React.Component<HotColumnProps, {}> {\n  internalProps: string[];\n  columnSettings: Handsontable.ColumnSettings;\n\n  /**\n   * Filter out all the internal properties and return an object with just the Handsontable-related props.\n   *\n   * @returns {Object}\n   */\n  getSettingsProps(): HotTableProps {\n    this.internalProps = ['_componentRendererColumns', '_emitColumnSettings', '_columnIndex', '_getChildElementByType', '_getRendererWrapper',\n      '_getEditorClass', '_getEditorCache', '_getOwnerDocument', 'hot-renderer', 'hot-editor', 'children'];\n\n    return Object.keys(this.props)\n      .filter(key => {\n        return !this.internalProps.includes(key);\n      })\n      .reduce((obj, key) => {\n        obj[key] = this.props[key];\n\n        return obj;\n      }, {});\n  }\n\n  /**\n   * Get the editor element for the current column.\n   *\n   * @returns {React.ReactElement} React editor component element.\n   */\n  getLocalEditorElement(): React.ReactElement | null {\n    return getExtendedEditorElement(this.props.children, this.props._getEditorCache(), this.props._columnIndex);\n  }\n\n  /**\n   * Create the column settings based on the data provided to the `HotColumn` component and it's child components.\n   */\n  createColumnSettings(): void {\n    const rendererElement = this.props._getChildElementByType(this.props.children, 'hot-renderer');\n    const editorElement = this.getLocalEditorElement();\n\n    this.columnSettings = SettingsMapper.getSettings(this.getSettingsProps()) as unknown as Handsontable.ColumnSettings;\n\n    if (rendererElement !== null) {\n      this.columnSettings.renderer = this.props._getRendererWrapper(rendererElement);\n      this.props._componentRendererColumns.set(this.props._columnIndex, true);\n    }\n\n    if (editorElement !== null) {\n      this.columnSettings.editor = this.props._getEditorClass(editorElement, this.props._columnIndex);\n    }\n  }\n\n  /**\n   * Emit the column settings to the parent using a prop passed from the parent.\n   */\n  emitColumnSettings(): void {\n    this.props._emitColumnSettings(this.columnSettings, this.props._columnIndex);\n  }\n\n  /*\n  ---------------------------------------\n  ------- React lifecycle methods -------\n  ---------------------------------------\n  */\n\n  /**\n   * Logic performed after the mounting of the HotColumn component.\n   */\n  componentDidMount(): void {\n    this.createColumnSettings();\n    this.emitColumnSettings();\n  }\n\n  /**\n   * Logic performed after the updating of the HotColumn component.\n   */\n  componentDidUpdate(): void {\n    this.createColumnSettings();\n    this.emitColumnSettings();\n  }\n\n  /**\n   * Render the portals of the editors, if there are any.\n   *\n   * @returns {React.ReactElement}\n   */\n  render(): React.ReactElement {\n    const ownerDocument = this.props._getOwnerDocument();\n    const editorPortal = createEditorPortal(ownerDocument, this.getLocalEditorElement());\n\n    return (\n      <React.Fragment>\n        {editorPortal}\n      </React.Fragment>\n    )\n  }\n}\n\nexport { HotColumn };\n","import React from 'react';\n\n/**\n * Component class used to manage the renderer component portals.\n */\nexport class RenderersPortalManager extends React.Component<{}, { portals?: React.ReactPortal[] }> {\n  state = {\n    portals: []\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.portals}\n      </React.Fragment>\n    )\n  }\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","module.exports = Function.call.bind(Object.prototype.hasOwnProperty);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import React from 'react';\nimport Handsontable from 'handsontable/base';\nimport { SettingsMapper } from './settingsMapper';\nimport { RenderersPortalManager } from './renderersPortalManager';\nimport { HotColumn } from './hotColumn';\nimport * as packageJson from '../package.json';\nimport {\n  HotTableProps,\n  HotEditorElement,\n  HotEditorCache,\n  EditorScopeIdentifier\n} from './types';\nimport {\n  HOT_DESTROYED_WARNING,\n  AUTOSIZE_WARNING,\n  GLOBAL_EDITOR_SCOPE,\n  createEditorPortal,\n  createPortal,\n  getChildElementByType,\n  getContainerAttributesProps,\n  getExtendedEditorElement,\n  getOriginalEditorClass,\n  isCSR,\n  warn\n} from './helpers';\nimport PropTypes from 'prop-types';\n\n/**\n * A Handsontable-ReactJS wrapper.\n *\n * To implement, use the `HotTable` tag with properties corresponding to Handsontable options.\n * For example:\n *\n * ```js\n * <HotTable id=\"hot\" data={dataObject} contextMenu={true} colHeaders={true} width={600} height={300} stretchH=\"all\" />\n *\n * // is analogous to\n * let hot = new Handsontable(document.getElementById('hot'), {\n *    data: dataObject,\n *    contextMenu: true,\n *    colHeaders: true,\n *    width: 600\n *    height: 300\n * });\n *\n * ```\n *\n * @class HotTableCB\n */\nclass HotTableClass extends React.Component<HotTableProps, {}> {\n  /**\n   * The `id` of the main Handsontable DOM element.\n   *\n   * @type {String}\n   */\n  id: string = null;\n  /**\n   * Reference to the Handsontable instance.\n   *\n   * @private\n   * @type {Object}\n   */\n  __hotInstance: Handsontable | null = null;\n  /**\n   * Reference to the main Handsontable DOM element.\n   *\n   * @type {HTMLElement}\n   */\n  hotElementRef: HTMLElement = null;\n  /**\n   * Class name added to the component DOM element.\n   *\n   * @type {String}\n   */\n  className: string;\n  /**\n   * Style object passed to the component.\n   *\n   * @type {React.CSSProperties}\n   */\n  style: React.CSSProperties;\n\n  /**\n   * Array of object containing the column settings.\n   *\n   * @type {Array}\n   */\n  columnSettings: Handsontable.ColumnSettings[] = [];\n\n  /**\n   * Component used to manage the renderer portals.\n   *\n   * @type {React.Component}\n   */\n  renderersPortalManager: RenderersPortalManager = null;\n\n  /**\n   * Array containing the portals cashed to be rendered in bulk after Handsontable's render cycle.\n   */\n  portalCacheArray: React.ReactPortal[] = [];\n\n  /**\n   * The rendered cells cache.\n   *\n   * @private\n   * @type {Map}\n   */\n  private renderedCellCache: Map<string, HTMLTableCellElement> = new Map();\n\n  /**\n   * Editor cache.\n   *\n   * @private\n   * @type {Map}\n   */\n  private editorCache: HotEditorCache = new Map();\n\n  /**\n   * Map with column indexes (or a string = 'global') as keys, and booleans as values. Each key represents a component-based editor\n   * declared for the used column index, or a global one, if the key is the `global` string.\n   *\n   * @private\n   * @type {Map}\n   */\n  private componentRendererColumns: Map<number | string, boolean> = new Map();\n\n  /**\n   * Package version getter.\n   *\n   * @returns The version number of the package.\n   */\n  static get version(): string {\n    return (packageJson as any).version;\n  }\n\n  /**\n   * Getter for the property storing the Handsontable instance.\n   */\n  get hotInstance(): Handsontable | null {\n    if (!this.__hotInstance || (this.__hotInstance && !this.__hotInstance.isDestroyed)) {\n\n      // Will return the Handsontable instance or `null` if it's not yet been created.\n      return this.__hotInstance;\n\n    } else {\n      console.warn(HOT_DESTROYED_WARNING);\n\n      return null;\n    }\n  }\n\n  /**\n   * Setter for the property storing the Handsontable instance.\n   * @param {Handsontable} hotInstance The Handsontable instance.\n   */\n  set hotInstance(hotInstance) {\n    this.__hotInstance = hotInstance;\n  }\n\n  /**\n   * Prop types to be checked at runtime.\n   */\n  static propTypes: object = {\n    style: PropTypes.object,\n    id: PropTypes.string,\n    className: PropTypes.string\n  };\n\n  /**\n   * Get the rendered table cell cache.\n   *\n   * @returns {Map}\n   */\n  getRenderedCellCache(): Map<string, HTMLTableCellElement> {\n    return this.renderedCellCache;\n  }\n\n  /**\n   * Get the editor cache and return it.\n   *\n   * @returns {Map}\n   */\n  getEditorCache(): HotEditorCache {\n    return this.editorCache;\n  }\n\n  /**\n   * Clear both the editor and the renderer cache.\n   */\n  clearCache(): void {\n    this.getRenderedCellCache().clear();\n    this.componentRendererColumns.clear();\n  }\n\n  /**\n   * Get the `Document` object corresponding to the main component element.\n   *\n   * @returns The `Document` object used by the component.\n   */\n  getOwnerDocument(): Document | null {\n    if (isCSR()) {\n      return this.hotElementRef ? this.hotElementRef.ownerDocument : document;\n    }\n\n    return null;\n  }\n\n  /**\n   * Set the reference to the main Handsontable DOM element.\n   *\n   * @param {HTMLElement} element The main Handsontable DOM element.\n   */\n  private setHotElementRef(element: HTMLElement): void {\n    this.hotElementRef = element;\n  }\n\n  /**\n   * Return a renderer wrapper function for the provided renderer component.\n   *\n   * @param {React.ReactElement} rendererElement React renderer component.\n   * @returns {Handsontable.renderers.Base} The Handsontable rendering function.\n   */\n  getRendererWrapper(rendererElement: React.ReactElement): typeof Handsontable.renderers.BaseRenderer | any {\n    const hotTableComponent = this;\n\n    return function (instance, TD, row, col, prop, value, cellProperties) {\n      const renderedCellCache = hotTableComponent.getRenderedCellCache();\n\n      if (renderedCellCache.has(`${row}-${col}`)) {\n        TD.innerHTML = renderedCellCache.get(`${row}-${col}`).innerHTML;\n      }\n\n      if (TD && !TD.getAttribute('ghost-table')) {\n\n        const {portal, portalContainer} = createPortal(rendererElement, {\n          TD,\n          row,\n          col,\n          prop,\n          value,\n          cellProperties,\n          isRenderer: true\n        }, TD.ownerDocument);\n\n        while (TD.firstChild) {\n          TD.removeChild(TD.firstChild);\n        }\n\n        TD.appendChild(portalContainer);\n\n        hotTableComponent.portalCacheArray.push(portal);\n      }\n\n      renderedCellCache.set(`${row}-${col}`, TD);\n\n      return TD;\n    };\n  }\n\n  /**\n   * Create a fresh class to be used as an editor, based on the provided editor React element.\n   *\n   * @param {React.ReactElement} editorElement React editor component.\n   * @param {string|number} [editorColumnScope] The editor scope (column index or a 'global' string). Defaults to\n   * 'global'.\n   * @returns {Function} A class to be passed to the Handsontable editor settings.\n   */\n  getEditorClass(editorElement: HotEditorElement, editorColumnScope: EditorScopeIdentifier = GLOBAL_EDITOR_SCOPE): typeof Handsontable.editors.BaseEditor {\n    const editorClass = getOriginalEditorClass(editorElement);\n    const cachedComponent = this.getEditorCache().get(editorClass)?.get(editorColumnScope);\n\n    return this.makeEditorClass(cachedComponent);\n  }\n\n  /**\n   * Create a class to be passed to the Handsontable's settings.\n   *\n   * @param {React.ReactElement} editorComponent React editor component.\n   * @returns {Function} A class to be passed to the Handsontable editor settings.\n   */\n  makeEditorClass(editorComponent: React.Component): typeof Handsontable.editors.BaseEditor {\n    const customEditorClass = class CustomEditor extends Handsontable.editors.BaseEditor implements Handsontable.editors.BaseEditor {\n      editorComponent: React.Component;\n\n      constructor(hotInstance) {\n        super(hotInstance);\n\n        (editorComponent as any).hotCustomEditorInstance = this;\n\n        this.editorComponent = editorComponent;\n      }\n\n      focus() {\n      }\n\n      getValue() {\n      }\n\n      setValue() {\n      }\n\n      open() {\n      }\n\n      close() {\n      }\n    } as any;\n\n    // Fill with the rest of the BaseEditor methods\n    Object.getOwnPropertyNames(Handsontable.editors.BaseEditor.prototype).forEach(propName => {\n      if (propName === 'constructor') {\n        return;\n      }\n\n      customEditorClass.prototype[propName] = function (...args) {\n        return editorComponent[propName].call(editorComponent, ...args);\n      }\n    });\n\n    return customEditorClass;\n  }\n\n  /**\n   * Get the renderer element for the entire HotTable instance.\n   *\n   * @returns {React.ReactElement} React renderer component element.\n   */\n  getGlobalRendererElement(): React.ReactElement {\n    return getChildElementByType(this.props.children, 'hot-renderer');\n  }\n\n  /**\n   * Get the editor element for the entire HotTable instance.\n   *\n   * @param {React.ReactNode} [children] Children of the HotTable instance. Defaults to `this.props.children`.\n   * @returns {React.ReactElement} React editor component element.\n   */\n  getGlobalEditorElement(): HotEditorElement | null {\n    return getExtendedEditorElement(this.props.children, this.getEditorCache());\n  }\n\n  /**\n   * Create a new settings object containing the column settings and global editors and renderers.\n   *\n   * @returns {Handsontable.GridSettings} New global set of settings for Handsontable.\n   */\n  createNewGlobalSettings(): Handsontable.GridSettings {\n    const newSettings = SettingsMapper.getSettings(this.props);\n    const globalRendererNode = this.getGlobalRendererElement();\n    const globalEditorNode = this.getGlobalEditorElement();\n\n    newSettings.columns = this.columnSettings.length ? this.columnSettings : newSettings.columns;\n\n    if (globalEditorNode) {\n      newSettings.editor = this.getEditorClass(globalEditorNode, GLOBAL_EDITOR_SCOPE);\n\n    } else {\n      newSettings.editor = this.props.editor || (this.props.settings ? this.props.settings.editor : void 0);\n    }\n\n    if (globalRendererNode) {\n      newSettings.renderer = this.getRendererWrapper(globalRendererNode);\n      this.componentRendererColumns.set('global', true);\n\n    } else {\n      newSettings.renderer = this.props.renderer || (this.props.settings ? this.props.settings.renderer : void 0);\n    }\n\n    return newSettings;\n  }\n\n  /**\n   * Detect if `autoRowSize` or `autoColumnSize` is defined, and if so, throw an incompatibility warning.\n   *\n   * @param {Handsontable.GridSettings} newGlobalSettings New global settings passed as Handsontable config.\n   */\n  displayAutoSizeWarning(newGlobalSettings: Handsontable.GridSettings): void {\n    if (\n      this.hotInstance &&\n      (\n        this.hotInstance.getPlugin('autoRowSize')?.enabled ||\n        this.hotInstance.getPlugin('autoColumnSize')?.enabled\n      )\n    ) {\n      if (this.componentRendererColumns.size > 0) {\n        warn(AUTOSIZE_WARNING);\n      }\n    }\n  }\n\n  /**\n   * Sets the column settings based on information received from HotColumn.\n   *\n   * @param {HotTableProps} columnSettings Column settings object.\n   * @param {Number} columnIndex Column index.\n   */\n  setHotColumnSettings(columnSettings: Handsontable.ColumnSettings, columnIndex: number): void {\n    this.columnSettings[columnIndex] = columnSettings;\n  }\n\n  /**\n   * Handsontable's `beforeViewRender` hook callback.\n   */\n  handsontableBeforeViewRender(): void {\n    this.getRenderedCellCache().clear();\n  }\n\n  /**\n   * Handsontable's `afterViewRender` hook callback.\n   */\n  handsontableAfterViewRender(): void {\n    this.renderersPortalManager.setState({\n      portals: [...this.portalCacheArray]\n    }, () => {\n      this.portalCacheArray = [];\n    });\n  }\n\n  /**\n   * Call the `updateSettings` method for the Handsontable instance.\n   *\n   * @param {Object} newSettings The settings object.\n   */\n  private updateHot(newSettings: Handsontable.GridSettings): void {\n    if (this.hotInstance) {\n      this.hotInstance.updateSettings(newSettings, false);\n    }\n  }\n\n  /**\n   * Set the renderers portal manager ref.\n   *\n   * @param {React.ReactComponent} pmComponent The PortalManager component.\n   */\n  private setRenderersPortalManagerRef(pmComponent: RenderersPortalManager): void {\n    this.renderersPortalManager = pmComponent;\n  }\n\n  /*\n  ---------------------------------------\n  ------- React lifecycle methods -------\n  ---------------------------------------\n  */\n\n  /**\n   * Initialize Handsontable after the component has mounted.\n   */\n  componentDidMount(): void {\n    const newGlobalSettings = this.createNewGlobalSettings();\n\n    this.hotInstance = new Handsontable.Core(this.hotElementRef, newGlobalSettings);\n\n    this.hotInstance.addHook('beforeViewRender', () => this.handsontableBeforeViewRender());\n    this.hotInstance.addHook('afterViewRender', () => this.handsontableAfterViewRender());\n\n    // `init` missing in Handsontable's type definitions.\n    (this.hotInstance as any).init();\n\n    this.displayAutoSizeWarning(newGlobalSettings);\n  }\n\n  /**\n   * Logic performed after the component update.\n   */\n  componentDidUpdate(): void {\n    this.clearCache();\n\n    const newGlobalSettings = this.createNewGlobalSettings();\n\n    this.updateHot(newGlobalSettings);\n    this.displayAutoSizeWarning(newGlobalSettings);\n  }\n\n  /**\n   * Destroy the Handsontable instance when the parent component unmounts.\n   */\n  componentWillUnmount(): void {\n    this.clearCache();\n\n    if (this.hotInstance) {\n      this.hotInstance.destroy();\n    }\n  }\n\n  /**\n   * Render the component.\n   */\n  render(): React.ReactElement {\n    const isHotColumn = (childNode: any) => childNode.type === HotColumn;\n    const children = React.Children.toArray(this.props.children);\n\n    // clone the HotColumn nodes and extend them with the callbacks\n    const hotColumnClones = children\n      .filter((childNode: any) => isHotColumn(childNode))\n      .map((childNode: React.ReactElement, columnIndex: number) => {\n        return React.cloneElement(childNode, {\n          _componentRendererColumns: this.componentRendererColumns,\n          _emitColumnSettings: this.setHotColumnSettings.bind(this),\n          _columnIndex: columnIndex,\n          _getChildElementByType: getChildElementByType.bind(this),\n          _getRendererWrapper: this.getRendererWrapper.bind(this),\n          _getEditorClass: this.getEditorClass.bind(this),\n          _getOwnerDocument: this.getOwnerDocument.bind(this),\n          _getEditorCache: this.getEditorCache.bind(this),\n          children: childNode.props.children\n        } as object);\n      });\n\n    const containerProps = getContainerAttributesProps(this.props);\n    const editorPortal = createEditorPortal(this.getOwnerDocument(), this.getGlobalEditorElement());\n\n    return (\n      <React.Fragment>\n        <div ref={this.setHotElementRef.bind(this)} {...containerProps}>\n          {hotColumnClones}\n        </div>\n        <RenderersPortalManager ref={this.setRenderersPortalManagerRef.bind(this)} />\n        {editorPortal}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default HotTableClass;\nexport { HotTableClass };\n","import React, { ForwardRefExoticComponent, RefAttributes } from 'react';\nimport { HotTableClass } from './hotTableClass';\nimport { HotTableProps } from './types';\n\ninterface Version {\n  version?: string;\n}\n\ntype HotTable = ForwardRefExoticComponent<HotTableProps & RefAttributes<HotTableClass>> & Version;\n\n// Use global React variable for `forwardRef` access (React 16 support)\nconst HotTable: HotTable = React.forwardRef<HotTableClass, HotTableProps>(({ children, ...props }, ref) => {\n  const generatedId = typeof React.useId === 'function' ? React.useId() : undefined;\n  const componentId = props.id ?? generatedId;\n\n  return (\n    <HotTableClass id={componentId} {...props} ref={ref}>\n      {children}\n    </HotTableClass>\n  );\n})\n\nHotTable.version = HotTableClass.version;\n\nexport default HotTable;\nexport { HotTable };\n","import React from 'react';\nimport Handsontable from 'handsontable/base';\nimport { EditorScopeIdentifier, HotEditorProps } from './types';\n\ninterface BaseEditorProps extends HotEditorProps {\n  editorColumnScope?: EditorScopeIdentifier;\n  emitEditorInstance?: (editor: BaseEditorComponent, column: EditorScopeIdentifier) => void,\n}\n\nclass BaseEditorComponent<P = {}, S = {}, SS = any> extends React.Component<P & BaseEditorProps, S, SS> implements Handsontable.editors.BaseEditor {\n  name = 'BaseEditorComponent';\n  instance = null;\n  row = null;\n  col = null;\n  prop = null;\n  TD = null;\n  originalValue = null;\n  cellProperties = null;\n  state = null;\n  hotInstance = null;\n  hotCustomEditorInstance = null;\n  hot = null;\n\n  componentDidMount() {\n    if (this.props.emitEditorInstance) {\n      this.props.emitEditorInstance(this, this.props.editorColumnScope);\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.emitEditorInstance) {\n      this.props.emitEditorInstance(this, this.props.editorColumnScope);\n    }\n  }\n\n  // BaseEditor methods:\n  private _fireCallbacks(...args) {\n    (Handsontable.editors.BaseEditor.prototype as any)._fireCallbacks.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  beginEditing(...args) {\n    return Handsontable.editors.BaseEditor.prototype.beginEditing.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  cancelChanges(...args) {\n    return Handsontable.editors.BaseEditor.prototype.cancelChanges.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  checkEditorSection(...args) {\n    return Handsontable.editors.BaseEditor.prototype.checkEditorSection.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  close(...args) {\n    return Handsontable.editors.BaseEditor.prototype.close.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  discardEditor(...args) {\n    return Handsontable.editors.BaseEditor.prototype.discardEditor.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  enableFullEditMode(...args) {\n    return Handsontable.editors.BaseEditor.prototype.enableFullEditMode.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  extend(...args) {\n    return Handsontable.editors.BaseEditor.prototype.extend.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  finishEditing(...args) {\n    return Handsontable.editors.BaseEditor.prototype.finishEditing.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  focus(...args) {\n    return Handsontable.editors.BaseEditor.prototype.focus.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  getValue(...args) {\n    return Handsontable.editors.BaseEditor.prototype.getValue.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  init(...args) {\n    return Handsontable.editors.BaseEditor.prototype.init.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  isInFullEditMode(...args) {\n    return Handsontable.editors.BaseEditor.prototype.isInFullEditMode.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  isOpened(...args) {\n    return Handsontable.editors.BaseEditor.prototype.isOpened.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  isWaiting(...args) {\n    return Handsontable.editors.BaseEditor.prototype.isWaiting.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  open(...args) {\n    return Handsontable.editors.BaseEditor.prototype.open.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  prepare(row, col, prop, TD, originalValue, cellProperties) {\n    this.hotInstance = cellProperties.instance;\n    this.row = row;\n    this.col = col;\n    this.prop = prop;\n    this.TD = TD;\n    this.originalValue = originalValue;\n    this.cellProperties = cellProperties;\n\n    return Handsontable.editors.BaseEditor.prototype.prepare.call(this.hotCustomEditorInstance, row, col, prop, TD, originalValue, cellProperties);\n  }\n\n  saveValue(...args) {\n    return Handsontable.editors.BaseEditor.prototype.saveValue.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  setValue(...args) {\n    return Handsontable.editors.BaseEditor.prototype.setValue.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  addHook(...args) {\n    return (Handsontable.editors.BaseEditor.prototype as any).addHook.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  removeHooksByKey(...args) {\n    return (Handsontable.editors.BaseEditor.prototype as any).removeHooksByKey.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  clearHooks(...args) {\n    return (Handsontable.editors.BaseEditor.prototype as any).clearHooks.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  getEditedCell(...args) {\n    return (Handsontable.editors.BaseEditor.prototype as any).getEditedCell.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  getEditedCellRect(...args) {\n    return (Handsontable.editors.BaseEditor.prototype as any).getEditedCellRect.call(this.hotCustomEditorInstance, ...args);\n  }\n\n  getEditedCellsZIndex(...args) {\n    return (Handsontable.editors.BaseEditor.prototype as any).getEditedCellsZIndex.call(this.hotCustomEditorInstance, ...args);\n  }\n}\n\nexport default BaseEditorComponent;\nexport { BaseEditorComponent };\n"],"names":["bulkComponentContainer","GLOBAL_EDITOR_SCOPE","getChildElementByType","children","type","childrenArray","React","Children","toArray","childrenCount","count","wantedChild","props","find","child","getOriginalEditorClass","editorElement","WrappedComponent","createEditorPortal","doc","containerProps","getContainerAttributesProps","className","concat","ReactDOM","createPortal","body","getExtendedEditorElement","editorCache","editorColumnScope","editorClass","cloneElement","emitEditorInstance","editorInstance","get","set","Map","isEditor","rElement","ownerDocument","document","createDocumentFragment","portalContainer","createElement","appendChild","extendedRendererElement","_objectSpread","key","row","col","portal","Math","random","id","toString","substring","undefined","style","SettingsMapper","_classCallCheck","_createClass","value","properties","newSettings","settings","hasOwnProperty","HotColumn","_React$Component","_callSuper","this","arguments","_inherits","_this","internalProps","Object","keys","filter","includes","reduce","obj","_getEditorCache","_columnIndex","rendererElement","_getChildElementByType","getLocalEditorElement","columnSettings","getSettings","getSettingsProps","renderer","_getRendererWrapper","_componentRendererColumns","editor","_getEditorClass","_emitColumnSettings","createColumnSettings","emitColumnSettings","editorPortal","_getOwnerDocument","Fragment","Component","RenderersPortalManager","state","portals","b","Symbol","c","d","e","f","g","h","k","l","m","n","p","q","r","t","v","w","x","y","z","a","_typeof","u","$$typeof","A","module","exports","require$$0","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","join","test3","split","forEach","letter","err","shouldUseNative","emptyFunction","emptyFunctionWithReset","Function","call","bind","prototype","resetWarningCache","shim","propName","componentName","location","propFullName","secret","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$2","HotTableClass","__hotInstance","hotElementRef","renderersPortalManager","portalCacheArray","renderedCellCache","componentRendererColumns","isDestroyed","console","warn","hotInstance","getRenderedCellCache","clear","window","hotTableComponent","instance","TD","prop","cellProperties","has","innerHTML","getAttribute","_createPortal","isRenderer","firstChild","removeChild","push","_this$getEditorCache$","length","cachedComponent","getEditorCache","makeEditorClass","editorComponent","customEditorClass","_Handsontable$editors","CustomEditor","_this2","hotCustomEditorInstance","_assertThisInitialized","Handsontable","editors","BaseEditor","_editorComponent$prop","_len","args","Array","_key","apply","globalRendererNode","getGlobalRendererElement","globalEditorNode","getGlobalEditorElement","columns","getEditorClass","getRendererWrapper","newGlobalSettings","_this$hotInstance$get","_this$hotInstance$get2","getPlugin","enabled","size","_console","columnIndex","_this3","setState","_toConsumableArray","updateSettings","pmComponent","_this4","createNewGlobalSettings","Core","addHook","handsontableBeforeViewRender","handsontableAfterViewRender","init","displayAutoSizeWarning","clearCache","updateHot","destroy","_this5","hotColumnClones","childNode","isHotColumn","setHotColumnSettings","getOwnerDocument","ref","setHotElementRef","setRenderersPortalManagerRef","propTypes","HotTable","forwardRef","_ref","_props$id","_objectWithoutProperties","_excluded","generatedId","useId","componentId","version","BaseEditorComponent","originalValue","hot","_fireCallbacks","_Handsontable$editors2","_len2","_key2","beginEditing","_Handsontable$editors3","_len3","_key3","cancelChanges","_Handsontable$editors4","_len4","_key4","checkEditorSection","_Handsontable$editors5","_len5","_key5","close","_Handsontable$editors6","_len6","_key6","discardEditor","_Handsontable$editors7","_len7","_key7","enableFullEditMode","_Handsontable$editors8","_len8","_key8","extend","_Handsontable$editors9","_len9","_key9","finishEditing","_Handsontable$editors10","_len10","_key10","focus","_Handsontable$editors11","_len11","_key11","getValue","_Handsontable$editors12","_len12","_key12","_Handsontable$editors13","_len13","_key13","isInFullEditMode","_Handsontable$editors14","_len14","_key14","isOpened","_Handsontable$editors15","_len15","_key15","isWaiting","_Handsontable$editors16","_len16","_key16","open","prepare","_Handsontable$editors17","_len17","_key17","saveValue","_Handsontable$editors18","_len18","_key18","setValue","_Handsontable$editors19","_len19","_key19","_Handsontable$editors20","_len20","_key20","removeHooksByKey","_Handsontable$editors21","_len21","_key21","clearHooks","_Handsontable$editors22","_len22","_key22","getEditedCell","_Handsontable$editors23","_len23","_key23","getEditedCellRect","_Handsontable$editors24","_len24","_key24","getEditedCellsZIndex"],"mappings":"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"}